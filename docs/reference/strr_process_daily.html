<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Function to process raw daily STR tables into UPGo format — strr_process_daily • strr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Function to process raw daily STR tables into UPGo format — strr_process_daily" />
<meta property="og:description" content="strr_process_daily takes raw daily tables from AirDNA and cleans them
to prepare for compression into the UPGo database storage format
(using strr_compress)." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">strr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dwachsmuth/strr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Function to process raw daily STR tables into UPGo format</h1>
    <small class="dont-index">Source: <a href='https://github.com/dwachsmuth/strr/blob/master/R/strr_process_daily.R'><code>R/strr_process_daily.R</code></a></small>
    <div class="hidden name"><code>strr_process_daily.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>strr_process_daily</code> takes raw daily tables from AirDNA and cleans them
to prepare for compression into the UPGo database storage format
(using <code><a href='strr_compress.html'>strr_compress</a></code>).</p>
    </div>

    <pre class="usage"><span class='fu'>strr_process_daily</span>(
  <span class='no'>daily</span>,
  <span class='no'>property</span>,
  <span class='kw'>keep_cols</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>old_format</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>daily</th>
      <td><p>An unprocessed daily table in the raw AirDNA format, with either
ten or six fields.</p></td>
    </tr>
    <tr>
      <th>property</th>
      <td><p>A property table processed in the UPGo style.</p></td>
    </tr>
    <tr>
      <th>keep_cols</th>
      <td><p>A logical scalar. If the `daily` table has 10 fields,
should the superfluous 4 fields be kept, or should the table be trimmed to
the 6 fields which UPGo uses (default)?</p></td>
    </tr>
    <tr>
      <th>old_format</th>
      <td><p>Temporary option to add created/scraped and not split
output into active and inactive.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>A logical scalar. Should the function execute quietly, or should
it return status updates throughout the function (default)?</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with four elements: 1) the processed daily table, ready for
compression with <code><a href='strr_compress.html'>strr_compress</a></code>; 2) a processed daily_inactive
table, containing the rows which fall outside a listing's active period (as
determined by `created` and `scraped` fields in the property table), ready
for compression with <code><a href='strr_compress.html'>strr_compress</a></code>; 3) an error table
identifying corrupt or otherwise invalid row entries; 4) a missing_rows table
identifying property_IDs with missing dates in between their first and last
date entries, and therefore potentially missing data.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A function for cleaning raw daily activity tables from AirDNA and preparing
them for compression into the UPGo format. The function also produces error
files which identify possible corrupt or missing lines in the input file.</p>
<p>The function expects the input daily file to have either ten fields (the
default for a raw table from AirDNA) or six fields (the default for UPGo,
after the "Price (Native)", "Currency Native", "Airbnb Property ID", and
"HomeAway Property ID" fields are removed on import).</p>
<p>The function expects the input property file to be formatted in the UPGo
style, in particular with fields named "property_ID", "created", and
"scraped". Eventually function arguments may be supplied to allow these
field names to be overruled.</p>
<p>Because the expectation is that the input files will be very large, the
function uses updating by reference on the daily input table to change it
to data.table class prior to processing. This saves a considerable amount of
memory by avoiding making an unnecessary copy of the input daily table, but
has the side effect of the initial input file being changed to a data.table.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Wachsmuth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


